<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>CISCO</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!--link rel="stylesheet/less" href="less/bootstrap.less" type="text/css" /-->
    <!--link rel="stylesheet/less" href="less/responsive.less" type="text/css" /-->
    <!--script src="js/less-1.3.3.min.js"></script-->
    <!--append ‘#!watch’ to the browser URL, then refresh the page. -->
    
    <link href="../css_boot/bootstrap.min.css" rel="stylesheet">
    <link href="../css_boot/style.css" rel="stylesheet">


    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="js_boot/html5shiv.js"></script>
  <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../img_boot/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../img_boot/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../img_boot/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../img_boot/apple-touch-icon-57-precomposed.png">
    <link rel="shortcut icon" href="../img_boot/favicon.png">

    <script type="text/javascript" src="../js_boot/jquery.min.js"></script>
    <script type="text/javascript" src="../js_boot/bootstrap.min.js"></script>
    <script type="text/javascript" src="../js_boot/scripts.js"></script>
	<script type="text/javascript" src="../js/jquery.contextmenu.js"></script>
	<link href="../css/jquery.contextMenu.css" rel="stylesheet" type="text/css" /> 
	<style>
	</style>

    <script type="text/javascript">
	var jq = jQuery.noConflict();
	function isEmpty(str) {
    return (!str || 0 === str.length);
}

function isBlank(str) {
    return (!str || /^\s*$/.test(str));
}

function closeWin(){
	window.location.reload();
		jq('#simplemodal-container').hide();
}
var username = window.location.search.substring(1);
var defaultWFDetails = {};
jq(window).load(function() {
	  jq.ajax({
	      type: "GET",
	      //url: "http://152.48.2.245:3050/retrieveKitNames",
	      url: "http://152.48.2.245:80/retrieveDefaultWFKitNames",
	      dataType: "json",
	      async:false,
	      success: function (data) {
	    	  console.log(data);
	    	  var result = JSON.stringify(data);
	    	  var result1=JSON.parse(result);
	    	  defaultWFDetails = result1;
	    	  if (result1.statusCode == 200){
	    	  jq.each(result1.kitItems,function(i){
					//jq(".kitName").append('<li class="WFName" id="DWF"><a id="selected" href="#">'+result1.kitItems[i].kitName+'</a></li>');
			        //jq("#templateContent").append('<a  id="DWF" class="list-group-item WFName" href="#">'+result1.kitItems[i].kitName+'</a>');
	    		  jq("#templateContent").append('<ul class="WFName" id="DWF"><a id="selected" href="#">'+result1.kitItems[i].kitName+'</a></ul>');
	    	  });
	    	  }
	      }
	  });
	  
	  //jq(".kitName li").remove();
	  /*jq.ajax({
	      type: "GET",
	      //url: "http://152.48.2.245:3050/retrieveKitNames",
	      url: "http://152.48.2.245:80/retrieveModifiedWFKitNames/DWF",
	      dataType: "json",
	      async:false,
	      success: function (data) {
	    	  console.log(data);
	    	  var result = JSON.stringify(data);
	    	  var result1=JSON.parse(result);
	    	  if (result1.statusCode == 200){
	    	  jq.each(result1.kitItems,function(i){
	    		  jq(".kitName").append('<li class="WFName" id="DWF"><a id="selected" href="#">'+result1.kitItems[i].kitName+'</a></li>');
	    	  });
	      	  }
	      }
	  });*/
	  
	  jq.ajax({
	      type: "GET",
	      //url: "http://152.48.2.245:3050/retrieveKitNames",
	      url: "http://152.48.2.245:80/retrieveModifiedWFKitNames/MWF",
	      dataType: "json",
	      async:false,
	      success: function (data) {
	    	  console.log(data);
	    	  var result = JSON.stringify(data);
	    	  var result1=JSON.parse(result);
	    	  if (result1.statusCode == 200){
	    	  jq.each(result1.kitItems,function(i){
			         //jq("#usercreatedtemplates").append('<a  id="MWF" class="list-group-item WFName" href="#">'+result1.kitItems[i].kitName+'</a>');
					//jq(".kitName").append('<li class="WFName" id="MWF"><a id="selected" href="#">'+result1.kitItems[i].kitName+'</a></li>');
			         jq("#usercreatedtemplates").append('<ul class="WFName" id="MWF"><a id="'+result1.kitItems[i].configStatus+'" href="#">'+result1.kitItems[i].kitName+'</a></ul>');
	    	  });
	      	  }
	      }
	  });
	  
	   jq(".templateCnt ul").children('a:first').click();
	  
	   jq.ajax({
	      type: "GET",
	      //url: "http://152.48.2.245:3050/retrieveKitNames",
	      url: "http://152.48.2.245:80/retrieveComponentList",
	      dataType: "json",
	      async:false,
	      success: function (data) {
	    	  console.log(data);
	    	  var result = JSON.stringify(data);
	    	  var result1=JSON.parse(result);
			  
			  jq.each(result1.component,function(i){
				if (result1.component[i].componentName == 'PatientIdentified'){
					jq("#PatientIdentified").append('<img src="../images/PatientIdentified.png" class="img-rounded " alt=""/>');
					//jq("#PatientIdentified").append('<div id="one" class="img-responsive timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_one_label").append('<label class="label1">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'AutoCheckin'){
					jq("#AutoCheckin").append('<img src="../images/AutoCheckin.png" class="img-rounded " alt=""/>');
					//jq("#AutoCheckin").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_two_label").append('<label class="label2">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'PersonalizedWelcome'){
					jq("#PersonalizedWelcome").append('<img src="../images/PersonalizedWelcome.png" class="img-rounded " alt=""/>');
					//jq("#PersonalizedWelcome").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_three_label").append('<label class="label3">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'PatSchedularSys'){
					jq("#PatSchedularSys").append('<img src="../images/PatSchedularSys.png" class="img-rounded " alt=""/>');
					//jq("#PatSchedularSys").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_four_label").append('<label class="label4">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'PatArrivalNotify'){
					jq("#PatArrivalNotify").append('<img src="../images/PatArrivalNotify.png" class="img-rounded " alt=""/>');
					//jq("#PatArrivalNotify").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_five_label").append('<label class="label5">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'ApptWaitTimeNotify'){
					jq("#ApptWaitTimeNotify").append('<img src="../images/ApptWaitTimeNotify.png" class="img-rounded " alt=""/>');
					//jq("#ApptWaitTimeNotify").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_six_label").append('<label class="label6">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'IntrctnComptdDr'){
					jq("#IntrctnComptdDr").append('<img src="../images/PatientIdentified.png" class="img-rounded " alt=""/>');
					//jq("#IntrctnComptdDr").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_eight_label").append('<label class="label8">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'DoctorNotify'){
					jq("#DoctorNotify").append('<img src="../images/PatientIdentified.png" class="img-rounded " alt=""/>');
					//jq("#DoctorNotify").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_seven_label").append('<label class="label7">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'PharmacySystem'){
					jq("#PharmacySystem").append('<img src="../images/PharmacySystem.png" class="img-rounded " alt=""/>');
					//jq("#PharmacySystem").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_nine_label").append('<label class="label9">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'PntArvlNfyPharmacist'){
					jq("#PntArvlNfyPharmacist").append('<img src="../images/PatArrivalNotify.png" class="img-rounded " alt=""/>');
					//jq("#PntArvlNfyPharmacist").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_ten_label").append('<label class="label10">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'PrescriptionStsNotify'){
					jq("#PrescriptionStsNotify").append('<img src="../images/AutoCheckin.png" class="img-rounded " alt=""/>');
					//jq("#PrescriptionStsNotify").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_11_label").append('<label class="label11">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'PharmacistNotify'){
					jq("#PharmacistNotify").append('<img src="../images/PharmacistNotify.png" class="img-rounded " alt=""/>');
					//jq("#PharmacistNotify").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_12_label").append('<label class="label12">'+result1.component[i].title+'</label>');
				} else if (result1.component[i].componentName == 'MedicinesReceivd'){
					jq("#MedicinesReceivd").append('<img src="../images/MedicinesReceivd.png" class="img-rounded " alt=""/>');
					//jq("#MedicinesReceivd").append('<div class="timage" style="background: '+result1.component[i].imageUrl+' no-repeat;"></div>');
					jq(".node_13_label").append('<label class="label13">'+result1.component[i].title+'</label>');
				}
			  });
	      }
	  });  
	  
	});
///PharmacistNotify
jq(document).ready(function() {
   
    jq('#createWF').hide();
	jq('#userform').hide();
	jq('#conformcontainers').hide();
	

	imageJson = {};
	function createJSON() {
		var images = new Array();
	    jsonObj = [];
	    jq(".circular").each(function() {
	        var id = jq(this).attr("id");
	        	//alert(id);
	        	images.push(id);
	     });
	     var kitname = document.getElementById("kitname").value; 
		 var description = document.getElementById("description").value;
	     imageJson.kitName=kitname;
	     imageJson.description=description;
	     imageJson.images=images;
		 return imageJson;
	  }
	  
		var result1 = {};
		var kitImg = [], deletedImages = [], clearedImgs = [];
		var kitDetails = {};
		var typeWF, kitNm, kitDesc;
	jq('#collapsePanel').on('click', '.WFName', function () { 
		/*jq("#modify").removeAttr("disabled");*/
		/*jq("#modify").stop().fadeTo("",1);*/
		jq('#kitname').val('');
		jq('#description').val('');
		var kitImages = [];
		jq("#collapsePanel ul a").removeClass('selected');
		jq(this).children().addClass('selected');
		var title = jq(this).text();
	    jq('#titlec').text(title);
		typeWF = jq(this).attr("id");
		var configSts = jq(this).children().attr("id");
		//alert(configSts);
		if (typeWF == "DWF"){
			jq("#createWF").show();
			jq("#userform").hide();
			jq("#conformcontainers").hide();
			jq(".circular").addClass('context-menu-disabled');  ///result1.kitItems[i].kitName
		} else if (typeWF == "MWF" && configSts == ""){
			jq("#createWF").hide();
			jq("#userform").show();
			jq("#conformcontainers").show(); 
			jq(".circular").removeClass('context-menu-disabled');
		} else if (typeWF == "MWF" && configSts != ""){
			jq("#createWF").hide();
			jq("#userform").hide();
			jq("#conformcontainers").hide(); 
			jq(".circular").addClass('context-menu-disabled');
		}
		jq("#arrow1").stop().fadeTo("",1); jq("#arrow2").stop().fadeTo("",1); jq("#arrow3").stop().fadeTo("",1); jq("#arrow4").stop().fadeTo("",1); jq("#arrow5").stop().fadeTo("",1);
		jq("#arrow6").stop().fadeTo("",1); jq("#arrow7").stop().fadeTo("",1); jq("#arrow8").stop().fadeTo("",1); jq("#arrow9").stop().fadeTo("",1); jq("#arrow10").stop().fadeTo("",1);
		jq("#arrow11").stop().fadeTo("",1); jq("#arrow12").stop().fadeTo("",1);
		jq("#node1").stop().fadeTo("",1); jq("#node2").stop().fadeTo("",1); jq("#node3").stop().fadeTo("",1); jq("#node4").stop().fadeTo("",1); jq("#node5").stop().fadeTo("",1);
		jq("#node6").stop().fadeTo("",1); jq("#node7").stop().fadeTo("",1); jq("#node8").stop().fadeTo("",1); jq("#node9").stop().fadeTo("",1); jq("#node10").stop().fadeTo("",1);
		jq("#node11").stop().fadeTo("",1); jq("#node12").stop().fadeTo("",1); jq("#node13").stop().fadeTo("",1);
		
		jq("#node1").hide(); jq("#node2").hide(); jq("#node3").hide(); jq("#node4").hide(); jq("#node5").hide(); jq("#node6").hide(); jq("#node7").hide(); jq("#node8").hide();
		jq("#node9").hide(); jq("#node10").hide(); jq("#node11").hide(); jq("#node12").hide(); jq("#node13").hide(); jq("#arrow1").hide(); jq("#arrow2").hide(); jq("#arrow3").hide();
		jq("#arrow4").hide(); jq("#arrow5").hide(); jq("#arrow6").hide(); jq("#arrow7").hide(); jq("#arrow8").hide(); jq("#arrow9").hide(); jq("#arrow10").hide(); jq("#arrow11").hide(); jq("#arrow12").hide();
		  
		  if (typeWF == "DWF"){
			  jq.ajax({
			      type: "GET",
			      //url: "http://152.48.2.245:3050/retrieveKitNames",
			      url: "http://152.48.2.245:80/retrieveDWFKitDetails/"+title,
			      dataType: "json",
			      async:false,
			      success: function (data) {
			    	  var result = JSON.stringify(data);
			    	  result1=JSON.parse(result);
					  kitImages = result1.images;
					  kitImg = result1.images;
					  deletedImages = ["dummy"];
					  clearedImgs = ["dummy"];
					  kitNm = result1.kitName;
					  kitDesc = result1.description;
			      }
				});
		  } else if (typeWF == "MWF"){
		      
			  jq.ajax({
			      type: "GET",
			      //url: "http://152.48.2.245:3050/retrieveKitNames",
			      url: "http://152.48.2.245:80/retrieveMWFKitDetails/"+title,
			      dataType: "json",
			      async:false,
			      success: function (data) {
			    	  var result = JSON.stringify(data);
			    	  result1=JSON.parse(result);
					  kitImages = result1.images;
					  deletedImages = result1.deletedImages;
					  clearedImgs = result1.clearedImgs;
					  kitImg = result1.images;
					  kitNm = result1.kitName;
					  kitDesc = result1.description;
			      }
				});
		  }
		  
		  jq('#kitname').val(kitNm);
		  jq('#description').val(kitDesc);
		  
		  if (kitImages.length>0){
			  jq.each(kitImages,function(i){
				if (kitImages[i] == 'PatientIdentified'){
					jq("#node1").show();
				} else if (kitImages[i] == 'AutoCheckin') {
					jq("#arrow1").show();
					jq("#node2").show();
				} else if (kitImages[i] == 'PersonalizedWelcome') {
					jq("#arrow2").show();
					jq("#node3").show();
				} else if (kitImages[i] == 'PatSchedularSys') {
					jq("#arrow3").show();
					jq("#node4").show();
				} else if (kitImages[i] == 'PatArrivalNotify') {
					jq("#arrow4").show();
					jq("#node5").show();
				} else if (kitImages[i] == 'ApptWaitTimeNotify') {
					jq("#arrow5").show();
					jq("#node6").show();
				} else if (kitImages[i] == 'DoctorNotify') {
					jq("#arrow6").show();
					jq("#node7").show();
				} else if (kitImages[i] == 'IntrctnComptdDr') {
					jq("#arrow7").show();
					jq("#node8").show();
				} else if (kitImages[i] == 'PharmacySystem') {
					jq("#arrow8").show();
					jq("#node9").show();
				} else if (kitImages[i] == 'PntArvlNfyPharmacist') {
					jq("#arrow9").show();
					jq("#node10").show();
				} else if (kitImages[i] == 'PrescriptionStsNotify') {
					jq("#arrow10").show();
					jq("#node11").show();
				} else if (kitImages[i] == 'PharmacistNotify') {
					jq("#arrow11").show();
					jq("#node12").show();
				} else if (kitImages[i] == 'MedicinesReceivd') {
					jq("#arrow12").show();
					jq("#node13").show();
				}
			  });  
		  } 
		 
		  if (deletedImages.length>0){
			  jq.each(deletedImages,function(i){
				if (deletedImages[i] == 'PatientIdentified'){
					jq("#node1").fadeTo("",0.5);
				} else if (deletedImages[i] == 'AutoCheckin') {
					jq("#arrow1").fadeTo("",0.5);
					jq("#node2").fadeTo("",0.5);
				} else if (deletedImages[i] == 'PersonalizedWelcome') {
					jq("#arrow2").fadeTo("",0.5);
					jq("#node3").fadeTo("",0.5);
				} else if (deletedImages[i] == 'PatSchedularSys') {
					jq("#arrow3").fadeTo("",0.5);
					jq("#node4").fadeTo("",0.5);
				} else if (deletedImages[i] == 'PatArrivalNotify') {
					jq("#arrow4").fadeTo("",0.5);
					jq("#node5").fadeTo("",0.5);
				} else if (deletedImages[i] == 'ApptWaitTimeNotify') {
					jq("#arrow5").fadeTo("",0.5);
					jq("#node6").fadeTo("",0.5);
				} else if (deletedImages[i] == 'DoctorNotify') {
					jq("#arrow6").fadeTo("",0.5);
					jq("#node7").fadeTo("",0.5);
				} else if (deletedImages[i] == 'IntrctnComptdDr') {
					jq("#arrow7").fadeTo("",0.5);
					jq("#node8").fadeTo("",0.5);
				} else if (deletedImages[i] == 'PharmacySystem') {
					jq("#arrow8").fadeTo("",0.5);
					jq("#node9").fadeTo("",0.5);
				} else if (deletedImages[i] == 'PntArvlNfyPharmacist') {
					jq("#arrow9").fadeTo("",0.5);
					jq("#node10").fadeTo("",0.5);
				} else if (deletedImages[i] == 'PrescriptionStsNotify') {
					jq("#arrow10").fadeTo("",0.5);
					jq("#node11").fadeTo("",0.5);
				} else if (deletedImages[i] == 'PharmacistNotify') {
					jq("#arrow11").fadeTo("",0.5);
					jq("#node12").fadeTo("",0.5);
				} else if (deletedImages[i] == 'MedicinesReceivd') {
					jq("#node13").fadeTo("",0.5);
	 		  		jq("#arrow12").fadeTo("",0.5);
				}
			  });  
		  } /*else {
			  deletedImages = [""];
		  }*/
		  
		  /*if (clearedImgs.length == 0){
			  clearedImgs = [""];
		  }*/
		  
		 /* if (clearedImgs.length>0){
			  jq.each(clearedImgs,function(i){
				  if (kitImages[i] == 'PatientIdentified'){
						jq("#node1").hide();
					} else if (kitImages[i] == 'AutoCheckin') {
						jq("#arrow1").hide();
						jq("#node2").show();
					} else if (kitImages[i] == 'PersonalizedWelcome') {
						jq("#arrow2").show();
						jq("#node3").show();
					} else if (kitImages[i] == 'PatSchedularSys') {
						jq("#arrow3").show();
						jq("#node4").show();
					} else if (kitImages[i] == 'PatArrivalNotify') {
						jq("#arrow4").show();
						jq("#node5").show();
					} else if (kitImages[i] == 'ApptWaitTimeNotify') {
						jq("#arrow5").show();
						jq("#node6").show();
					} else if (kitImages[i] == 'DoctorNotify') {
						jq("#arrow6").show();
						jq("#node7").show();
					} else if (kitImages[i] == 'IntrctnComptdDr') {
						jq("#arrow7").show();
						jq("#node8").show();
					} else if (kitImages[i] == 'PharmacySystem') {
						jq("#arrow8").show();
						jq("#node9").show();
					} else if (kitImages[i] == 'PntArvlNfyPharmacist') {
						jq("#arrow9").show();
						jq("#node10").show();
					} else if (kitImages[i] == 'PrescriptionStsNotify') {
						jq("#arrow10").show();
						jq("#node11").show();
					} else if (kitImages[i] == 'PharmacistNotify') {
						jq("#arrow11").show();
						jq("#node12").show();
					} else if (kitImages[i] == 'MedicinesReceivd') {
						jq("#arrow12").show();
						jq("#node13").show();
					}
			  });  
		  }*/
	});
	
	jq("#modify").click(function(){
		jq(".circular").removeClass('context-menu-disabled');
		jq("#modify").attr("disabled", true);
		jq("#modify").fadeTo("",0.5);
		if (typeWF == "DWF"){
			jq('#kitname').val('Copy of '+result1.kitName);
			jq('#description').val(result1.description);
		} else if (typeWF == "MWF") {
			jq('#kitname').val(result1.kitName);
			jq('#description').val(result1.description);
		}
		
	});
	
	jq("#createWF").click(function(){
		jq("#createWF").hide(500);
		jq("#userform").show(900);
		jq('#kitname').val('Copy of '+result1.kitName);
		jq('#description').val(result1.description);
		jq('#titlec').text('Copy of '+result1.kitName);
		jq('#conformcontainers').show();
	  
		jq(".circular").removeClass('context-menu-disabled');
	});
	
	
	
    //Left Slide Toggle
	jq(".trigger").click(function() {
		  jq(".leftcontainer").toggle("left");
			jq(this).toggleClass("active");
			//jq("#patient").css({"height" : "200px"});
	  		return false;
	  		
	 });
	 	
	 //Header Menu Highlighting
     var str = location.href.toLowerCase();
	 jq(".navigation li a").each(function() {
		if (str.indexOf(this.href.toLowerCase()) > -1) {
			jq("li.highlight").removeClass("highlight");
			jq(this).parent().addClass("highlight");
		}
	 });
	 //Header Menu Highlighting -HealthCare
	 var str_health = location.href.toLowerCase();
	 jq(".navigation_healthcare li a").each(function() {
		if (str_health.indexOf(this.href.toLowerCase()) > -1) {
			jq("li.highlight").removeClass("highlight");
			jq(this).parent().addClass("highlight");
		}
	 });
	 
	 
	 
	 
	 jq("#savebutton").click(function(){
	   	kitDetails.kitName = jq('#kitname').val();
		kitDetails.description = jq('#description').val();
		kitDetails.images = kitImg;
		kitDetails.deletedImages = deletedImages;
		kitDetails.clearedImgs = clearedImgs;
		kitDetails.configStatus = "";
		//jq('.list-group-item').remove();
		var isValid = true;
		jq('input[type="text"]').each(function() {
			if (jq.trim(jq(this).val()) == '') {
				isValid = false;
				jq(this).css({ "border": "1px solid red", "background": "#FFCECE"});
			} else {
				jq(this).css({"border": "","background": ""  });
			}
		});
		
		jq('#kitname').val('');
		jq('#description').val('');
		
		if(kitDetails.kitName.length>0) {
			if(typeWF == "DWF"){
		 		jq.ajax({
			 		type: "POST",
		      		//url: "http://152.48.2.245:3050/saveData",
		      		url: "http://152.48.2.245:80/saveModifiedWF",
		      		dataType: "json",
		      		async:false,
		      		data:kitDetails,
		       		success: function (data) {
		    		console.log(data);
		      	}
		      
		   	}); 
			} else if (typeWF == "MWF"){
				jq.ajax({
			 		type: "PUT",
		      		//url: "http://152.48.2.245:3050/saveData",
		      		url: "http://152.48.2.245:80/saveModifiedWF1/"+kitNm,
		      		dataType: "json",
		      		async:false,
		      		data:kitDetails,
		       		success: function (data) {
		    		console.log(data);
		      	}
		      
		   	});
			}
	    }
	   // jq(".kitName li").remove();
	    //jq(".kitName .template1").remove();
		/*
	    jq.ajax({
		      type: "GET",
		      //url: "http://152.48.2.245:3050/retrieveKitNames",
		      url: "http://152.48.2.245:80/retrieveDefaultWFKitNames",
		      dataType: "json",
		      async:false,
		      success: function (data) {
		    	  console.log(data);
		    	  var result = JSON.stringify(data);
		    	  var result1=JSON.parse(result);
		    	  defaultWFDetails = result1;
		    	  if (result1.statusCode == 200){
		    	  jq.each(result1.kitItems,function(i){
						jq(".kitName").append('<li class="WFName" id="DWF"><a id="selected" href="#">'+result1.kitItems[i].kitName+'</a></li>');
						
		    	  });
		    	 // jq(".kitName").append('<div class="template1">USER CREATED</div>');
		    	  }
		      }
		  });*/
		  jq('#usercreatedtemplates ul a').remove();
		  jq.ajax({
		      type: "GET",
		      //url: "http://152.48.2.245:3050/retrieveKitNames",
		      url: "http://152.48.2.245:80/retrieveModifiedWFKitNames/MWF",
		      dataType: "json",
		      async:false,
		      success: function (data) {
		    	  console.log(data);
		    	  var result = JSON.stringify(data);
		    	  var result1=JSON.parse(result);
		    	  jq.each(result1.kitItems,function(i){
				 		//jq(".kitName").append('<li class="WFName" id="MWF"><a id="selected" href="#">'+result1.kitItems[i].kitName+'</a></li>');
				         //jq("#usercreatedtemplates").append('<ul class="WFName" id="MWF"><a id="selected" href="#">'+result1.kitItems[i].kitName+'</a></ul>');
				         jq("#usercreatedtemplates").append('<ul class="WFName" id="MWF"><a id="'+result1.kitItems[i].configStatus+'" href="#">'+result1.kitItems[i].kitName+'</a></ul>');

		    	  });
		      }
		  });
		  
		  jq("#collapsePanel ul a").each(function(){
			 var kn =  jq(this).text();
			 if (kn === kitDetails.kitName){
				 jq(this).click();
			 }
		 });
		 
	});
	 
	 jq("#configure").click(function(){
		 jq("#savebutton").click();
		 result1.configStatus = "WAITINGTOCONFIGURE";
		 result1.wfType = "MWF";
		 jq.ajax({
		 	type: "PUT",
	      	//url: "http://152.48.2.245:3050/saveData",
	      	url: "http://152.48.2.245:80/sendForConfiguration",
	      	dataType: "json",
	      	async:false,
	      	data:result1,
	       	success: function (data) {
	    		console.log(data);
	    		if (data.statusCode == 201) {
	    			alert('"'+result1.kitName+'" tool kit has been sent to administrator for configuration.');
	    		}
	      	}	
	   	 });
		 /*jq("#createWF").hide();
		 jq("#userform").hide();
		 jq("#conformcontainers").hide(); 
		 jq(".circular").addClass('context-menu-disabled');*/
		
		 jq('#usercreatedtemplates ul a').remove();
		 jq.ajax({
			type: "GET",
			//url: "http://152.48.2.245:3050/retrieveKitNames",
			url: "http://152.48.2.245:80/retrieveModifiedWFKitNames/MWF",
			dataType: "json",
			async:false,
			success: function (data) {
				console.log(data);
			   	var result = JSON.stringify(data);
			   	var result1=JSON.parse(result);
			   	if (result1.statusCode == 200){
			   		jq.each(result1.kitItems,function(i){
						//jq("#usercreatedtemplates").append('<a  id="MWF" class="list-group-item WFName" href="#">'+result1.kitItems[i].kitName+'</a>');
						//jq(".kitName").append('<li class="WFName" id="MWF"><a id="selected" href="#">'+result1.kitItems[i].kitName+'</a></li>');
				         jq("#usercreatedtemplates").append('<ul class="WFName" id="MWF"><a id="'+result1.kitItems[i].configStatus+'" href="#">'+result1.kitItems[i].kitName+'</a></ul>');
			    	});
			   	}
			}
		});	 
		 
		jq(".templateCnt ul").children('a:first').click();

	 });
	 
	 jq("#cancel").click(function(){
		//jq('#kitname').val('');
		//jq('#description').val('');
		
		 jq(".templateCnt ul").children('a:first').click();
	});
	 
 jq(function() {
	 //Patient identified on Arrival
	 var kit = 1;
	 jq.contextMenu({
		selector : "#PatientIdentified",
		build: function() {
		var options = {
		callback : function(key, options) {	
			if(key == "comp1") {
				jq("#arrow1").stop().fadeTo("",1);
 		  		jq("#node2").stop().fadeTo("",1);
 		  		kitImg.push("AutoCheckin");
 		  		var index = jq.inArray("AutoCheckin", clearedImgs);
				if (index>=0) {
					clearedImgs.splice(index, 1);
				}
			} 
		},
		items : {}
		};
		var index = jq.inArray("PatientIdentified", deletedImages);
		var index2 = jq.inArray("AutoCheckin", clearedImgs);
		if (index2 >= 0 && index == -1){
			options.items.comp1 = {name: "Auto Check-in Notification", icon : "cut"};
		}

	    return options;
	  }
	});
	 
	 //Auto Check-in Notification
	 jq.contextMenu({
		selector : "#AutoCheckin",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node13").hide();
						jq("#arrow12").hide();
						jq("#node12").hide();
						jq("#arrow11").hide();
						jq("#node11").hide();
						jq("#arrow10").hide();
						jq("#node10").hide();
						jq("#arrow9").hide();
						jq("#node9").hide();
						jq("#arrow8").hide();
						jq("#node8").hide();
						jq("#arrow7").hide();
						jq("#node7").hide();
						jq("#arrow6").hide();
						jq("#node6").hide();
						jq("#arrow5").hide();
						jq("#node5").hide();
						jq("#arrow4").hide();
						jq("#node4").hide();
						jq("#arrow3").hide();
						jq("#node3").hide();
						jq("#arrow2").hide();
						jq("#node2").hide();
						jq("#arrow1").hide();
						
						var removeArray = ["AutoCheckin","PersonalizedWelcome","PatSchedularSys","PatArrivalNotify","ApptWaitTimeNotify","DoctorNotify","IntrctnComptdDr","PharmacySystem","PntArvlNfyPharmacist","PrescriptionStsNotify","PharmacistNotify","MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
			   		} else if(key == "Delete") {
		 		  		
		 		  		jq("#node2").fadeTo("",0.5);
		 		  		jq("#arrow1").fadeTo("",0.5);
		 		  		var index12 = jq.inArray("PersonalizedWelcome", clearedImgs);
		 		  		if (index12 == -1){
		 		  			jq("#node3").fadeTo("",0.5);
			 		  		jq("#arrow2").fadeTo("",0.5);
		 		  		}
		 		  		var index2 = jq.inArray("PatSchedularSys", clearedImgs);
		 		  		if (index2 == -1){
		 		  			jq("#node4").fadeTo("",0.5);
			 		  		jq("#arrow3").fadeTo("",0.5);
		 		  		}
		 		  		var index3 = jq.inArray("PatArrivalNotify", clearedImgs);
		 		  		if (index3 == -1){
		 		  			jq("#node5").fadeTo("",0.5);
			 		  		jq("#arrow4").fadeTo("",0.5);
		 		  		}
		 		  		var index4 = jq.inArray("ApptWaitTimeNotify", clearedImgs);
		 		  		if (index4 == -1){
		 		  			jq("#node6").fadeTo("",0.5);
			 		  		jq("#arrow5").fadeTo("",0.5);
		 		  		}
		 		  		var index5 = jq.inArray("DoctorNotify", clearedImgs);
		 		  		if (index5 == -1){
		 		  			jq("#node7").fadeTo("",0.5);
			 		  		jq("#arrow6").fadeTo("",0.5);
		 		  		}
		 		  		var index6 = jq.inArray("IntrctnComptdDr", clearedImgs);
		 		  		if (index6 == -1){
		 		  			jq("#node8").fadeTo("",0.5);
			 		  		jq("#arrow7").fadeTo("",0.5);
		 		  		}
		 		  		var index7 = jq.inArray("PharmacySystem", clearedImgs);
		 		  		if (index7 == -1){
		 		  			jq("#node9").fadeTo("",0.5);
			 		  		jq("#arrow8").fadeTo("",0.5);
		 		  		}
		 		  		var index8 = jq.inArray("PntArvlNfyPharmacist", clearedImgs);
		 		  		if (index8 == -1){
		 		  			jq("#node10").fadeTo("",0.5);
			 		  		jq("#arrow9").fadeTo("",0.5);
		 		  		}
		 		  		var index9 = jq.inArray("PrescriptionStsNotify", clearedImgs);
		 		  		if (index9 == -1){
		 		  			jq("#node11").fadeTo("",0.5);
			 		  		jq("#arrow10").fadeTo("",0.5);
		 		  		}
		 		  		var index10 = jq.inArray("PharmacistNotify", clearedImgs);
		 		  		if (index10 == -1){
		 		  			jq("#node12").fadeTo("",0.5);
			 		  		jq("#arrow11").fadeTo("",0.5);
		 		  		}
		 		  		var index11 = jq.inArray("MedicinesReceivd", clearedImgs);
		 		  		if (index11 == -1){
		 		  			jq("#node13").fadeTo("",0.5);
			 		  		jq("#arrow12").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var removeArray = ["AutoCheckin","PersonalizedWelcome","PatSchedularSys","PatArrivalNotify","ApptWaitTimeNotify","DoctorNotify","IntrctnComptdDr","PharmacySystem","PntArvlNfyPharmacist","PrescriptionStsNotify","PharmacistNotify","MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
		 		  	} else if(key == "Restore") {
		 		  		jq("#node2").stop().fadeTo("",1);
		 		  		jq("#arrow1").stop().fadeTo("",1);
		 		  		
		 		  		var removeArray = ["AutoCheckin"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	} else if(key == "comp1") {
						jq("#arrow2").stop().fadeTo("",1);
		 		  		jq("#node3").stop().fadeTo("",1);
		 		  		kitImg.push("PersonalizedWelcome");
		 		  		var index = jq.inArray("PersonalizedWelcome", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}		
					}
				},
				items : {}
	    	};
			var index = jq.inArray("AutoCheckin", deletedImages);
			var index1 = jq.inArray("AutoCheckin", kitImg);
			var index2 = jq.inArray("PersonalizedWelcome", clearedImgs);
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			} 
			if (index >= 0 && index1 == -1){
				options.items.Restore = {name: "Restore", icon : "cut"};
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
			if (index2 >= 0 && index == -1){
				options.items.comp1 = {name: "Personalized Welcome", icon : "cut"};
			}
				return options;
		}
	 });
	 
	 jq.contextMenu({
		selector : "#PersonalizedWelcome",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node13").hide();
						jq("#arrow12").hide();
						jq("#node12").hide();
						jq("#arrow11").hide();
						jq("#node11").hide();
						jq("#arrow10").hide();
						jq("#node10").hide();
						jq("#arrow9").hide();
						jq("#node9").hide();
						jq("#arrow8").hide();
						jq("#node8").hide();
						jq("#arrow7").hide();
						jq("#node7").hide();
						jq("#arrow6").hide();
						jq("#node6").hide();
						jq("#arrow5").hide();
						jq("#node5").hide();
						jq("#arrow4").hide();
						jq("#node4").hide();
						jq("#arrow3").hide();
						jq("#node3").hide();
						jq("#arrow2").hide();
						
						var removeArray = ["PersonalizedWelcome","PatSchedularSys","PatArrivalNotify","ApptWaitTimeNotify","DoctorNotify","IntrctnComptdDr","PharmacySystem","PntArvlNfyPharmacist","PrescriptionStsNotify","PharmacistNotify","MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
			   		} else if(key == "Delete") {
		 		  		jq("#node3").fadeTo("",0.5);
		 		  		jq("#arrow2").fadeTo("",0.5);
		 		  		
		 		  		var index2 = jq.inArray("PatSchedularSys", clearedImgs);
		 		  		if (index2 == -1){
		 		  			jq("#node4").fadeTo("",0.5);
			 		  		jq("#arrow3").fadeTo("",0.5);
		 		  		}
		 		  		var index3 = jq.inArray("PatArrivalNotify", clearedImgs);
		 		  		if (index3 == -1){
		 		  			jq("#node5").fadeTo("",0.5);
			 		  		jq("#arrow4").fadeTo("",0.5);
		 		  		}
		 		  		var index4 = jq.inArray("ApptWaitTimeNotify", clearedImgs);
		 		  		if (index4 == -1){
		 		  			jq("#node6").fadeTo("",0.5);
			 		  		jq("#arrow5").fadeTo("",0.5);
		 		  		}
		 		  		var index5 = jq.inArray("DoctorNotify", clearedImgs);
		 		  		if (index5 == -1){
		 		  			jq("#node7").fadeTo("",0.5);
			 		  		jq("#arrow6").fadeTo("",0.5);
		 		  		}
		 		  		var index6 = jq.inArray("IntrctnComptdDr", clearedImgs);
		 		  		if (index6 == -1){
		 		  			jq("#node8").fadeTo("",0.5);
			 		  		jq("#arrow7").fadeTo("",0.5);
		 		  		}
		 		  		var index7 = jq.inArray("PharmacySystem", clearedImgs);
		 		  		if (index7 == -1){
		 		  			jq("#node9").fadeTo("",0.5);
			 		  		jq("#arrow8").fadeTo("",0.5);
		 		  		}
		 		  		var index8 = jq.inArray("PntArvlNfyPharmacist", clearedImgs);
		 		  		if (index8 == -1){
		 		  			jq("#node10").fadeTo("",0.5);
			 		  		jq("#arrow9").fadeTo("",0.5);
		 		  		}
		 		  		var index9 = jq.inArray("PrescriptionStsNotify", clearedImgs);
		 		  		if (index9 == -1){
		 		  			jq("#node11").fadeTo("",0.5);
			 		  		jq("#arrow10").fadeTo("",0.5);
		 		  		}
		 		  		var index10 = jq.inArray("PharmacistNotify", clearedImgs);
		 		  		if (index10 == -1){
		 		  			jq("#node12").fadeTo("",0.5);
			 		  		jq("#arrow11").fadeTo("",0.5);
		 		  		}
		 		  		var index11 = jq.inArray("MedicinesReceivd", clearedImgs);
		 		  		if (index11 == -1){
		 		  			jq("#node13").fadeTo("",0.5);
			 		  		jq("#arrow12").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var removeArray = ["PersonalizedWelcome","PatSchedularSys","PatArrivalNotify","ApptWaitTimeNotify","DoctorNotify","IntrctnComptdDr","PharmacySystem","PntArvlNfyPharmacist","PrescriptionStsNotify","PharmacistNotify","MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
		 		  	} else if(key == "Restore") {
		 		  		jq("#node3").stop().fadeTo("",1);
		 		  		jq("#arrow2").stop().fadeTo("",1);
		 		  		
		 		  		var removeArray = ["PersonalizedWelcome"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	} else if (key == "comp1") {
						jq("#arrow3").stop().fadeTo("",1);
		 		  		jq("#node4").stop().fadeTo("",1);
		 		  		kitImg.push("PatSchedularSys");
		 		  		var index = jq.inArray("PatSchedularSys", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}
			   		} else if (key == "comp2") {
						jq("#arrow8").stop().fadeTo("",1);
		 		  		jq("#node9").stop().fadeTo("",1);
		 		  		kitImg.push("PharmacySystem");
		 		  		var index = jq.inArray("PharmacySystem", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}
			   		}
				},
				items : {}
	    	};
			var index = jq.inArray("PersonalizedWelcome", deletedImages);
			var index1 = jq.inArray("PersonalizedWelcome", kitImg);
			var index2 = jq.inArray("PatSchedularSys", clearedImgs);
			var index3 = jq.inArray("PharmacySystem", clearedImgs);
			var validateArray = ["AutoCheckin"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			} 
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
			if (index2 >= 0 && index == -1){
				options.items.comp1 = {name: "Patient Scheduler System", icon : "cut"};
			}
			if (index3 >= 0 && index == -1){
				options.items.comp2 = {name: "Pharmacy System", icon : "cut"};
			}
				return options;
		}
	 });
	
	 jq.contextMenu({
		selector : "#PatSchedularSys",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node8").hide();
						jq("#arrow7").hide();
						jq("#node7").hide();
						jq("#arrow6").hide();
						jq("#node6").hide();
						jq("#arrow5").hide();
						jq("#node5").hide();
						jq("#arrow4").hide();
						jq("#node4").hide();
						jq("#arrow3").hide();
						
						var removeArray = ["PatSchedularSys","PatArrivalNotify","ApptWaitTimeNotify","DoctorNotify","IntrctnComptdDr"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
			   		} else if(key == "Delete") {
			   			
			   		  if (confirm("Are you sure you want to delete Patient Scheduler System Notification?") == true) {
		        			
		 		  		jq("#node4").fadeTo("",0.5);
		 		  		jq("#arrow3").fadeTo("",0.5);
		 		  		
		 		  		var index2 = jq.inArray("PatArrivalNotify", clearedImgs);
		 		  		if (index2 == -1){
		 		  			jq("#node5").fadeTo("",0.5);
			 		  		jq("#arrow4").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var index3 = jq.inArray("ApptWaitTimeNotify", clearedImgs);
		 		  		if (index3 == -1){
		 		  			jq("#node6").fadeTo("",0.5);
			 		  		jq("#arrow5").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var index4 = jq.inArray("DoctorNotify", clearedImgs);
		 		  		if (index4 == -1){
		 		  			jq("#node7").fadeTo("",0.5);
			 		  		jq("#arrow6").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var index5 = jq.inArray("IntrctnComptdDr", clearedImgs);
		 		  		if (index5 == -1){
		 		  			jq("#node8").fadeTo("",0.5);
			 		  		jq("#arrow7").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var removeArray = ["PatSchedularSys","PatArrivalNotify","ApptWaitTimeNotify","DoctorNotify","IntrctnComptdDr"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
			   		  } else {
	       					return false;
	    			}
		 		  	} else if(key == "Restore") {
		 		  		jq("#node4").stop().fadeTo("",1);
		 		  		jq("#arrow3").stop().fadeTo("",1);
		 		  		
		 		  		var removeArray = ["PatSchedularSys"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	} else if (key == "comp1") {
						jq("#arrow4").stop().fadeTo("",1);
		 		  		jq("#node5").stop().fadeTo("",1);
		 		  		kitImg.push("PatArrivalNotify");
		 		  		var index = jq.inArray("PatArrivalNotify", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}
			   		} else if (key == "comp2") {
						jq("#arrow5").stop().fadeTo("",1);
		 		  		jq("#node6").stop().fadeTo("",1);
		 		  		kitImg.push("ApptWaitTimeNotify");
		 		  		var index = jq.inArray("ApptWaitTimeNotify", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}
			   		}
				},
				items : {}
	 		};
			var index = jq.inArray("PatSchedularSys", deletedImages);
			var index1 = jq.inArray("PatSchedularSys", kitImg);
			var index2 = jq.inArray("PatArrivalNotify", clearedImgs);
			var index3 = jq.inArray("ApptWaitTimeNotify", clearedImgs);
			var validateArray = ["AutoCheckin","PersonalizedWelcome"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			} 
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
			if (index2 >= 0 && index == -1){
				options.items.comp1 = {name: "Patient Arrival Notification to Doctor", icon : "cut"};
			}
			if (index3 >= 0 && index == -1){
				options.items.comp2 = {name: "Appointment and Wait Time Notification", icon : "cut"};
			}
				return options;
		}
	 });
		
	 jq.contextMenu({
		selector : "#PatArrivalNotify",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node7").hide();
						jq("#arrow6").hide();
						jq("#node5").hide();
						jq("#arrow4").hide();
					  	
						var removeArray = ["PatArrivalNotify","DoctorNotify"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
					} else if(key == "Delete") {
		 		  		jq("#node5").fadeTo("",0.5);
		 		  		jq("#arrow4").fadeTo("",0.5);
		 		  		
		 		  		var index2 = jq.inArray("DoctorNotify", clearedImgs);
		 		  		if (index2 == -1){
		 		  			jq("#node7").fadeTo("",0.5);
			 		  		jq("#arrow6").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var removeArray = ["PatArrivalNotify","DoctorNotify"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
		 		  	} else if(key == "Restore") {
		 		  		jq("#node5").stop().fadeTo("",1);
		 		  		jq("#arrow4").stop().fadeTo("",1);
		 		  		
		 		  		var removeArray = ["PatArrivalNotify"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	} else if(key == "comp1") {
						jq("#arrow6").stop().fadeTo("",1);
		 		  		jq("#node7").stop().fadeTo("",1);
		 		  		kitImg.push("DoctorNotify");
		 		  		var index = jq.inArray("DoctorNotify", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}
					}
				},
				items : {}
	 		};
			var index = jq.inArray("PatArrivalNotify", deletedImages);
			var index1 = jq.inArray("PatArrivalNotify", kitImg);
			var index2 = jq.inArray("DoctorNotify", clearedImgs);
			var validateArray = ["AutoCheckin","PersonalizedWelcome","PatSchedularSys"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			} 
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
			if (index2 >= 0 && index == -1){
				options.items.comp1 = {name: "Doctor gets Notified", icon : "cut"};
			}
				return options;
		}
	 });

	 jq.contextMenu({
		selector : "#ApptWaitTimeNotify",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node8").hide();
						jq("#arrow7").hide();
						jq("#node6").hide();
						jq("#arrow5").hide();
					  	
						var removeArray = ["ApptWaitTimeNotify","IntrctnComptdDr"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
					}   else if(key == "Delete") {
		 		  		jq("#node6").fadeTo("",0.5);
		 		  		jq("#arrow5").fadeTo("",0.5);
		 		  		var index2 = jq.inArray("IntrctnComptdDr", clearedImgs);
		 		  		if (index2 == -1){
		 		  			jq("#node8").fadeTo("",0.5);
			 		  		jq("#arrow7").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var removeArray = ["ApptWaitTimeNotify","IntrctnComptdDr"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
		 		  	} else if(key == "Restore") {
		 		  		jq("#node6").stop().fadeTo("",1);
		 		  		jq("#arrow5").stop().fadeTo("",1);
		 		  		
		 		  		var removeArray = ["ApptWaitTimeNotify"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	} else if(key == "comp1") {
						jq("#arrow7").stop().fadeTo("",1);
		 		  		jq("#node8").stop().fadeTo("",1);
		 		  		kitImg.push("IntrctnComptdDr");
		 		  		var index = jq.inArray("IntrctnComptdDr", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}
					}
				},
				items : {}
	    	};
			var index = jq.inArray("ApptWaitTimeNotify", deletedImages);
			var index1 = jq.inArray("ApptWaitTimeNotify", kitImg);
			var index2 = jq.inArray("IntrctnComptdDr", clearedImgs);
			var validateArray = ["AutoCheckin","PersonalizedWelcome","PatSchedularSys"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			} 
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
			if (index2 >= 0 && index == -1){
				options.items.comp1 = {name: "Interaction with Doctor Completed", icon : "cut"};
			}
				return options;
		}
	});
		
	 jq.contextMenu({
		selector : "#DoctorNotify",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node7").hide();
						jq("#arrow6").hide();
					  	
						var removeArray = ["DoctorNotify"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
		 		  	} else if(key == "Delete") {
		 		  		jq("#node7").fadeTo("",0.5);
		 		  		jq("#arrow6").fadeTo("",0.5);
		 		  		
		 		  		var removeArray = ["DoctorNotify"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
		 		  	} else if(key == "Restore") {
		 		  		jq("#node7").stop().fadeTo("",1);
		 		  		jq("#arrow6").stop().fadeTo("",1);
		 		  		var removeArray = ["DoctorNotify"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	}
				},
				items : {}
	    	};
			var index = jq.inArray("DoctorNotify", deletedImages);
			var index1 = jq.inArray("DoctorNotify", kitImg);
			var validateArray = ["AutoCheckin","PersonalizedWelcome","PatSchedularSys","PatArrivalNotify"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			} 
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
				return options;
		}
	});

	jq.contextMenu({
		selector : "#IntrctnComptdDr",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node8").hide();
						jq("#arrow7").hide();
						
						var removeArray = ["IntrctnComptdDr"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
		 		  	} else if(key == "Delete") {
		 		  		jq("#node8").fadeTo("",0.5);
		 		  		jq("#arrow7").fadeTo("",0.5);
		 		  		
		 		  		var removeArray = ["IntrctnComptdDr"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
		 		  	} else if(key == "Restore") {
		 		  		jq("#node8").stop().fadeTo("",1);
		 		  		jq("#arrow7").stop().fadeTo("",1);
		 		  		var removeArray = ["IntrctnComptdDr"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	}
				},
				items : {}
			};
			var index = jq.inArray("IntrctnComptdDr", deletedImages);
			var index1 = jq.inArray("IntrctnComptdDr", kitImg);
			var validateArray = ["AutoCheckin","PersonalizedWelcome","PatSchedularSys","ApptWaitTimeNotify"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			} 
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
				return options;
		}
	 });
	 
	 jq.contextMenu({
		selector : "#PharmacySystem",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node13").hide();
						jq("#arrow12").hide();
						jq("#node12").hide();
						jq("#arrow11").hide();
						jq("#node11").hide();
						jq("#arrow10").hide();
						jq("#node10").hide();
						jq("#arrow9").hide();
						jq("#node9").hide();
						jq("#arrow8").hide();

						var removeArray = ["PharmacySystem","PntArvlNfyPharmacist","PrescriptionStsNotify","PharmacistNotify","MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
			   		} else if(key == "Delete") {
			   		  if (confirm("Are you sure you want to delete Pharmacy System Notification?") == true) {
		 		  		jq("#node9").fadeTo("",0.5);
		 		  		jq("#arrow8").fadeTo("",0.5);
		 		  		
		 		  		var index2 = jq.inArray("PntArvlNfyPharmacist", clearedImgs);
		 		  		if (index2 == -1){
		 		  			jq("#node10").fadeTo("",0.5);
			 		  		jq("#arrow9").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var index3 = jq.inArray("PrescriptionStsNotify", clearedImgs);
		 		  		if (index3 == -1){
		 		  			jq("#node11").fadeTo("",0.5);
			 		  		jq("#arrow10").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var index4 = jq.inArray("PharmacistNotify", clearedImgs);
		 		  		if (index4 == -1){
		 		  			jq("#node12").fadeTo("",0.5);
			 		  		jq("#arrow11").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var index5 = jq.inArray("MedicinesReceivd", clearedImgs);
		 		  		if (index5 == -1){
		 		  			jq("#node13").fadeTo("",0.5);
			 		  		jq("#arrow12").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var removeArray = ["PharmacySystem","PntArvlNfyPharmacist","PrescriptionStsNotify","PharmacistNotify","MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
			   		  } else {
			   			return false;
	    			}
		 		  	} else if(key == "Restore") {
		 		  		jq("#node9").stop().fadeTo("",1);
		 		  		jq("#arrow8").stop().fadeTo("",1);
		 		  		
		 		  		var removeArray = ["PharmacySystem"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	} else if (key == "comp1") {
						jq("#arrow9").stop().fadeTo("",1);
		 		  		jq("#node10").stop().fadeTo("",1);
		 		  		kitImg.push("PntArvlNfyPharmacist");
		 		  		var index = jq.inArray("PntArvlNfyPharmacist", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}
			   		} else if (key == "comp2") {
						jq("#arrow10").stop().fadeTo("",1);
		 		  		jq("#node11").stop().fadeTo("",1);
		 		  		kitImg.push("PrescriptionStsNotify");
		 		  		var index = jq.inArray("PrescriptionStsNotify", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}
			   		}
				},
				items : {}
	 		};
			var index = jq.inArray("PharmacySystem", deletedImages);
			var index1 = jq.inArray("PharmacySystem", kitImg);
			var index2 = jq.inArray("PntArvlNfyPharmacist", clearedImgs);
			var index3 = jq.inArray("PrescriptionStsNotify", clearedImgs);
			var validateArray = ["AutoCheckin","PersonalizedWelcome"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			}
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
			if(index2 >= 0 && index == -1){
				options.items.comp1 = {name: "Patient Arrival Notification to Pharmacist", icon : "cut"};
			}
			if(index3 >= 0 && index == -1){
				options.items.comp2 = {name: "Prescription and Status Notification", icon : "cut"};
			}
				return options;
		}
	 });
	 
	 jq.contextMenu({
		selector : "#PntArvlNfyPharmacist",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node12").hide();
						jq("#arrow11").hide();
						jq("#node10").hide();
						jq("#arrow9").hide();
					  	
						var removeArray = ["PntArvlNfyPharmacist","PharmacistNotify"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
					}  else if(key == "Delete") {
		 		  		jq("#node10").fadeTo("",0.5);
		 		  		jq("#arrow9").fadeTo("",0.5);
		 		  		var index2 = jq.inArray("PharmacistNotify", clearedImgs);
		 		  		if (index2 == -1){
		 		  			jq("#node12").fadeTo("",0.5);
			 		  		jq("#arrow11").fadeTo("",0.5);
		 		  		}
						
		 		  		var removeArray = ["PntArvlNfyPharmacist","PharmacistNotify"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
		 		  	} else if(key == "Restore") {
		 		  		jq("#node10").stop().fadeTo("",1);
		 		  		jq("#arrow9").stop().fadeTo("",1);
		 	
		 		  		var removeArray = ["PntArvlNfyPharmacist"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	} else if(key == "comp1") {
						jq("#arrow11").stop().fadeTo("",1);
		 		  		jq("#node12").stop().fadeTo("",1);
		 		  		kitImg.push("PharmacistNotify");
		 		  		var index = jq.inArray("PharmacistNotify", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}
					}
				},
				items : {}
	 		};
			var index = jq.inArray("PntArvlNfyPharmacist", deletedImages);
			var index1 = jq.inArray("PntArvlNfyPharmacist", kitImg);
			var index2 = jq.inArray("PharmacistNotify", clearedImgs);
			var validateArray = ["AutoCheckin","PersonalizedWelcome","PharmacySystem"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			} 
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
			if(index2 >= 0 && index == -1){
				options.items.comp1 = {name: "Pharmacist gets Notified", icon : "cut"};
			}
				return options;
		}
	 });
	 
	 jq.contextMenu({
		selector : "#PrescriptionStsNotify",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node13").hide();
						jq("#arrow12").hide();
						jq("#node11").hide();
						jq("#arrow10").hide();
					  	
						var removeArray = ["PrescriptionStsNotify","MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
					}  else if(key == "Delete") {
						jq("#node11").fadeTo("",0.5);
		 		  		jq("#arrow10").fadeTo("",0.5);
		 		  		var index2 = jq.inArray("MedicinesReceivd", clearedImgs);
		 		  		if (index2 == -1){
		 		  			jq("#node13").fadeTo("",0.5);
		 		  			jq("#arrow12").fadeTo("",0.5);
		 		  		}
		 		  		
		 		  		var removeArray = ["PrescriptionStsNotify","MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
		 		  	} else if(key == "Restore") {
		 		  		jq("#node11").stop().fadeTo("",1);
		 		  		jq("#arrow10").stop().fadeTo("",1);
		 		  		
		 		  		var removeArray = ["PrescriptionStsNotify"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	} else if(key == "comp1") {
		 		  		jq("#arrow12").stop().fadeTo("",1);
		 		  		jq("#node13").stop().fadeTo("",1);
		 		  		kitImg.push("MedicinesReceivd");
		 		  		var index = jq.inArray("MedicinesReceivd", clearedImgs);
						if (index>=0) {
							clearedImgs.splice(index, 1);
						}
					}
				},
				items : {}
	 		};
			var index = jq.inArray("PrescriptionStsNotify", deletedImages);
			var index1 = jq.inArray("PrescriptionStsNotify", kitImg);
			var index2 = jq.inArray("MedicinesReceivd", clearedImgs);
			var validateArray = ["AutoCheckin","PersonalizedWelcome","PharmacySystem"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			} 
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			} 
			if(index2 >= 0 && index == -1){
				options.items.comp1 = {name: "Prescribed Medicines Received", icon : "cut"};
			}
				return options;
		}
	 });
	 
	 jq.contextMenu({
		selector : "#PharmacistNotify",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node12").hide();
						jq("#arrow11").hide();
					
						var removeArray = ["PharmacistNotify"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
	 		  		} else if(key == "Delete") {
	 		  			jq("#node12").fadeTo("",0.5);
	 		  			jq("#arrow11").fadeTo("",0.5);
	 		  		
	 		  			var removeArray = ["PharmacistNotify"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							if (index1 == -1) {
								deletedImages.push(removeArray[i]);
							}							
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
	 		  		} else if(key == "Restore") {
		 		  		jq("#node12").stop().fadeTo("",1);
		 		  		jq("#arrow11").stop().fadeTo("",1);
		 		  		var removeArray = ["PharmacistNotify"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	}
				},
				items : {}
	 		};
			var index = jq.inArray("PharmacistNotify", deletedImages);
			var index1 = jq.inArray("PharmacistNotify", kitImg);
			var validateArray = ["AutoCheckin","PersonalizedWelcome","PharmacySystem","PntArvlNfyPharmacist"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
			}
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
				return options;
		}
	 });
	 
	 jq.contextMenu({
		selector : "#MedicinesReceivd",
		build: function() {
			var options = {
				callback : function(key, options) {
					if(key == "Clear") {
						jq("#node13").hide();
						jq("#arrow12").hide();
						
						var removeArray = ["MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1) {
								clearedImgs.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
						});
		 		  	} else if(key == "Delete") {
		 		  		jq("#node13").fadeTo("",0.5);
		 		  		jq("#arrow12").fadeTo("",0.5);
		 		  		
		 		  		var removeArray = ["MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index1 = jq.inArray(removeArray[i], deletedImages);
							if (index1 == -1) {
								deletedImages.push(removeArray[i]);
							}
							var index = jq.inArray(removeArray[i], kitImg);
							if (index>=0) {
								kitImg.splice(index, 1);
							}
						});
		 		  	} else if(key == "Restore") {
		 		  		jq("#node13").stop().fadeTo("",1);
		 		  		jq("#arrow12").stop().fadeTo("",1);
		 		  		var removeArray = ["MedicinesReceivd"];
						jq.each(removeArray, function(i){
							var index = jq.inArray(removeArray[i], deletedImages);
							if (index>=0) {
								deletedImages.splice(index, 1);
							}
							var index1 = jq.inArray(removeArray[i], kitImg);
							var index2 = jq.inArray(removeArray[i], clearedImgs);
							if (index1 == -1 && index2 == -1) {
								kitImg.push(removeArray[i]);
							}
						});
		 		  	} else if(key == "Rename") {
		 		  		var txt = jq(".label13").text();
		 		        jq(".label13").replaceWith("<input class='label13' style='text-align:right;'/>");
		 		        jq(".label13").val(txt);
		 		        
		 		       jq(document).on("blur", "input.label13", function () {
		 		          var txt = jq(this).val();
		 		          jq(this).replaceWith("<label class='label13'></label>");
		 		          jq(".label13").text(txt);
		 		      });
		 		  	}
				},  
				items : {}
	 		};
			var index = jq.inArray("MedicinesReceivd", deletedImages);
			var index1 = jq.inArray("MedicinesReceivd", kitImg);
			var validateArray = ["AutoCheckin","PersonalizedWelcome","PharmacySystem","PrescriptionStsNotify"];
			var count=0;
			jq.each(validateArray, function(i){
				var index2 = jq.inArray(validateArray[i], deletedImages);
				if (index2>=0) {
					count++;
				}
			});
			if (index1 >= 0 && index == -1){
				options.items.Delete = {name: "Delete", icon : "delete"};
				options.items.Rename = {name: "Rename", icon : "cut"};
			} 
			if (index >= 0 && count == 0){
				options.items.Restore = {name: "Restore", icon : "cut"};
			}
			if (index >= 0 && index1 == -1){
			 	options.items.Clear = {name: "Clear", icon : "cut"};
			}
				return options;
	 	}
	 });
 }); 
});

	
	
	
	
    jq(document).ready(function() {
        jq(".trigger").click(function() {
            jq("#rightpanel").toggle();
            jq("#expand").toggle();
            jq('#middleworkflowcontainer').toggleClass("active");
            return false;
        });







		});
    </script>
</head>

<body>
    <header>
        <div class="row clearfix">
            <div class="col-md-8 nopadding">
                <div id="cisco_logo_white"></div>
            </div>
            <div class="col-md-4 nopadding">
                <div class="user_details">
                    <div class="user_image"></div>
                    <div class="user_name">Welcome <%= username %></div>
                    <div class="logout"><a href='../logout' id='logout'>Logout</a>
                    </div>
                    <div class="settings">Settings</div>
                </div>
            </div>
        </div>
    </header>
    <nav class="navbar navbar-default" role="navigation">
        <div class="navbar-header">

            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Menu</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li>
                    <a href="/">Home</a>
                </li>

                <li class="active">
                    <a href="/businessworkflow">BUSINESS WORKFLOW</a>
                </li>
                

                <li>
                    <a href="/status">STATUS</a>
                </li>
				
				<li>
                    <a href="#">REPORTS</a>
                </li>
				
				<li>
                    <a href="#">ABOUT</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container business">
        <div class="row clearfix">

            <div class="col-md-2 column" id='rightpanel'>

                <div class="workflows">Workflows <a class='trigger' href="#"> &#9668;</a></div>
                <div id='collapsePanel' >
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">TEMPLATE</h3>
                        </div>
                       <!-- <ul class="panel-body templateContent kitName">
						</ul>-->
						<div class="panel-body templateCnt row">
                            <div class="list-group" id='templateContent'></div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">User Created</h3>
                        </div>
                        <div class="panel-body row">
                            <div class="list-group" id='usercreatedtemplates'></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-10 column" id='middleworkflowcontainer'>
	            <div id='expand' class='col-md-1 column'>
					<p>Workflows</p>
					<a class='trigger triggerClose' href="#"> &#9658;</a>
	            </div>
	            
                <div class="col-md-12 column rightcontainer" >
                 
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title" id='titlec'></h3>
						</div>
						<div class="panel-body" id='businessuserworkflowpanel'>
						
						<div class="col-md-10 column" id="workflowContainer">
						
							<div class="row my-row1 clearfix">
								<div class="col-md-7 column"></div>
								
								<div class="col-md-1 column">
									<div id="arrow4">
										<div class="arrow_four">
											<img src="../images/arrow_45_right.png" />
										</div>
									</div>
									<div id="arrow5">
										<div class="arrow_five">
											<img src="../images/arrow_45_right_botton.png" />
										</div>
									</div>
								</div>
								
								<div class="col-md-1 column">
								<div id="node5">
									<div class="node_five">
										<div id="PatArrivalNotify" class="circular context-menu-disabled"></div>
									</div>
									<div class="node_five_label"></div>
								</div>
								</div>
								
								<div class="col-md-1 column">
								<div id="arrow6">
									<div class="arrow_six">
										<img src="../images/arrow_right.png" />
									</div>
								</div>
								</div>
										
								<div class="col-md-1 column">				
								<div id="node7">
									<div class="node_seven">
										<div id="DoctorNotify" class="circular context-menu-disabled"></div>
									</div>
									<div class="node_seven_label"></div>
								</div>
								</div>
							</div>
							
							
							<div class="row my-row3 clearfix">
								<div class="col-md-5 column"></div>
								
								<div class="col-md-1 column">	
									<div id="arrow3">
										<div class="arrow_three">
											<img src="../images/arrow_45_right.png" />
										</div>
									</div>
									<div id="arrow8">
										<div class="arrow_eight">
											<img src="../images/arrow_45_right_botton.png" />
										</div>
									</div>
								</div>
								
								<div class="col-md-1 column">
									<div id="node4">
										<div class="node_four">
											<div id="PatSchedularSys" class="circular context-menu-disabled"></div>
										</div>
										<div class="node_four_label"></div>
									</div>
								</div>
								
							</div>
							
							<div class="row my-row5 clearfix">
								<div class="col-md-7 column"></div>
								
								<div class="col-md-1 column">
									<div id="arrow51">
										<div class="arrow_five">
											<img src="../images/arrow_45_right_botton.png" />
										</div>
									</div>
								</div>
								
								<div class="col-md-1 column">
									<div id="node6">
										<div class="node_six">
											<div id="ApptWaitTimeNotify" class="circular context-menu-disabled"></div>
										</div>
										<div class="node_six_label"></div>
									</div>
								</div>
											
								<div class="col-md-1 column">		
									<div id="arrow7">
										<div class="arrow_seven">
											<img src="../images/arrow_right.png" />
										</div>
									</div>
								</div>
										
								<div class="col-md-1 column">				
									<div id="node8">
										<div class="node_eight">
											<div id="IntrctnComptdDr" class="circular context-menu-disabled"></div>
										</div>
										<div class="node_eight_label"></div>
									</div>
								</div>
							</div>
							  
							<div class="row my-row6 clearfix">	
								
								<div class="col-md-1 column">
								<div id="node1">
									<div class="node_one">
										<div id="PatientIdentified" class="circular context-menu-disabled"></div>
									</div>
									<div class="node_one_label"></div>
								</div>
								</div>
											
								<div class="col-md-1 column">		
								<div id="arrow1">
									<div class="arrow_one">
										<img src="../images/arrow_right.png" />
									</div>
								</div>
								</div>
										
								<div class="col-md-1 column">
								<div id="node2">
									<div class="node_two">
										<div id="AutoCheckin" class="circular context-menu-disabled"></div>
									</div>
									<div class="node_two_label"></div>
								</div>
								</div>
										
								<div class="col-md-1 column">			
								<div id="arrow2">
									<div class="arrow_two">
										<img src="../images/arrow_right.png" />
									</div>
								</div>
								</div>
										
								<div class="col-md-1 column">	
								<div id="node3">
									<div class="node_three">
										<div id="PersonalizedWelcome" class="circular context-menu-disabled"></div>
									</div>
									<div class="node_three_label"></div>
								</div>
								</div>
								
							</div>		
							
							<div class="row my-row1 clearfix">
								<div class="col-md-7 column"></div>
								
								<div class="col-md-1 column">
									<div id="arrow9">
										<div class="arrow_nine">
											<img src="../images/arrow_45_right.png" />
										</div>
									</div>
									<div id="arrow10">
										<div class="arrow_ten">
											<img src="../images/arrow_45_right_botton.png" />
										</div>
									</div>
								</div>
								
								<div class="col-md-1 column">
									<div id="node10">
										<div class="node_ten">
											<div id="PntArvlNfyPharmacist" class="circular context-menu-disabled"></div>
										</div>
										<div class="node_ten_label"></div>
									</div>
								</div>		
													
								<div class="col-md-1 column">
								<div id="arrow11">
									<div class="arrow_11">
										<img src="../images/arrow_right.png" />
									</div>
								</div>
								</div>
										
								<div class="col-md-1 column">				
									<div id="node12">
										<div class="node_12">
											<div id="PharmacistNotify" class="circular context-menu-disabled"></div>
										</div>
										<div class="node_12_label"></div>
									</div>
								</div>
							</div>
							
							<div class="row my-row3 clearfix">
								<div class="col-md-5 column"></div>
								
								<div class="col-md-1 column">
									<div id="arrow51">
										<div class="arrow_five">
											<img src="../images/arrow_45_right_botton.png" />
										</div>
									</div>
								</div>
								
								<div class="col-md-1 column">
									<div id="node9">
										<div class="node_nine">
											<div id="PharmacySystem" class="circular context-menu-disabled"></div>
										</div>
										<div class="node_nine_label"></div>
									</div>
								</div>
							</div>
							
							<div class="row my-row5 clearfix">
								<div class="col-md-7 column"></div>
								
								<div class="col-md-1 column">
									<div id="arrow51">
										<div class="arrow_five">
											<img src="../images/arrow_45_right_botton.png" />
										</div>
									</div>
								</div>
								
								<div class="col-md-1 column">
									<div id="node11">
										<div class="node_11">
											<div id="PrescriptionStsNotify" class="circular context-menu-disabled"></div>
										</div>
										<div class="node_11_label"></div>
									</div>
								</div>
											
								<div class="col-md-1 column">		
									<div id="arrow12">
										<div class="arrow_12">
											<img src="../images/arrow_right.png" />
										</div>
									</div>
								</div>
										
								<div class="col-md-1 column">				
									<div id="node13">
										<div class="node_13">
											<div id="MedicinesReceivd" class="circular context-menu-disabled"></div>
										</div>
										<div class="node_13_label"></div>
									</div>
								</div>
							</div>		
						</div>			
											
						<div class="col-md-2 column" id="formContainer">
							<div class="btn-group">
								<button type="button" id="createWF"  class="btn btn-default customsave">Create this workflow</button>
							</div>
												
							<div class="btn-group" id='userform'>
								<form role="form" >
									<div class="form-group">
										<label for="workflowname">Workflow Name</label><input type="text" class="form-control" id="kitname" />
									</div>
									<div class="form-group">
										<label for="exampleInputPassword1">Comment</label><textarea id='description' class="form-control" rows="3" cols="43" name='Message'></textarea>
									</div>
								</form>
							</div>
						</div>
					</div>
					<div class="panel-footer" id='conformcontainers'>
						<div class="btn-group">
							<button type="button" class="btn btn-default customsave"  id="configure">Send for Configuration</button>
						</div>	
						<div class="btn-group">
							<button type="button" class="btn btn-default customsave" id="savebutton" >Save</button>
						</div>
						<div class="btn-group">
							<button type="button" class="btn btn-default customsave" id="cancel">Cancel</button>
						</div>
					</div>
				</div>
            </div>
        </div>
    </div>
   </div>
</body>
</html>